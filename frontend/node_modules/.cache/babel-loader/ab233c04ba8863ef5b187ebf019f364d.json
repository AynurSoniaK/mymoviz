{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aynur\\\\Desktop\\\\lacapsule\\\\project\\\\mymoviz\\\\part5\\\\mymovizback\\\\reactapp\\\\src\\\\components\\\\Movie.js\";\nimport React, { useState } from 'react';\nimport '../App.css';\nimport { Button, Col, Card, CardImg, CardBody, CardTitle, CardText, Badge, ButtonGroup } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart, faStar, faVideo } from '@fortawesome/free-solid-svg-icons';\n\nfunction Movie(props) {\n  const [myRatingMovie, setMyRatingMovie] = useState(0);\n  const [isRatingMovie, setIsRatingMovie] = useState(false);\n  const [rating, setRating] = useState(props.globalRating);\n  const [countRating, setCountRating] = useState(props.globalCountRating);\n\n  var changeLiked = (name, img) => {\n    if (props.movieSee == true) {\n      props.handleClickDeleteMovieParent(name);\n    } else {\n      props.handleClickAddMovieParent(name, img);\n    }\n  };\n\n  var setMyRating = rating => {\n    if (rating < 0) {\n      rating = 0;\n    }\n\n    if (rating > 10) {\n      rating = 10;\n    }\n\n    setMyRatingMovie(rating);\n    setIsRatingMovie(true);\n  };\n\n  var tabRating = [];\n\n  for (var i = 0; i < 10; i++) {\n    var color = {};\n\n    if (i < myRatingMovie) {\n      color = {\n        color: '#f1c40f'\n      };\n    }\n\n    let count = i + 1;\n    tabRating.push(React.createElement(FontAwesomeIcon, {\n      onClick: () => setMyRating(count),\n      style: color,\n      icon: faStar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }));\n  }\n\n  var nbTotalNote = rating * countRating;\n  var nbTotalVote = countRating;\n\n  if (isRatingMovie) {\n    nbTotalVote += 1;\n    nbTotalNote += myRatingMovie;\n  }\n\n  var avgTotal = Math.round(nbTotalNote / nbTotalVote);\n  var tabGlobalRating = [];\n\n  for (var i = 0; i < 10; i++) {\n    var color = {};\n\n    if (i < avgTotal) {\n      color = {\n        color: '#f1c40f'\n      };\n    }\n\n    tabGlobalRating.push(React.createElement(FontAwesomeIcon, {\n      style: color,\n      icon: faStar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }));\n  }\n\n  if (props.movieSee) {\n    var colorLike = {\n      color: '#e74c3c',\n      cursor: 'pointer'\n    };\n  } else {\n    var colorLike = {\n      cursor: 'pointer'\n    };\n  }\n\n  return React.createElement(Col, {\n    xs: \"12\",\n    lg: \"6\",\n    xl: \"4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(Card, {\n    style: {\n      marginBottom: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(CardImg, {\n    top: true,\n    src: `https://image.tmdb.org/t/p/w500/${props.movieImg}`,\n    alt: props.movieName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(CardBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \" \", props.movieName, \" \", React.createElement(FontAwesomeIcon, {\n    style: colorLike,\n    icon: faHeart,\n    onClick: () => changeLiked(props.movieName, props.movieImg),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Nombre de vues \", React.createElement(Badge, {\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, Math.round(props.popularity))), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Mon avis\", tabRating, React.createElement(ButtonGroup, {\n    size: \"sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: () => setMyRating(myRatingMovie - 1),\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"-\"), React.createElement(Button, {\n    onClick: () => setMyRating(myRatingMovie + 1),\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"+\"))), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Moyenne\", tabGlobalRating, \"(\", nbTotalVote, \")\"), React.createElement(CardText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, props.movieDesc))));\n}\n\nexport default Movie;","map":{"version":3,"sources":["C:/Users/aynur/Desktop/lacapsule/project/mymoviz/part5/mymovizback/reactapp/src/components/Movie.js"],"names":["React","useState","Button","Col","Card","CardImg","CardBody","CardTitle","CardText","Badge","ButtonGroup","FontAwesomeIcon","faHeart","faStar","faVideo","Movie","props","myRatingMovie","setMyRatingMovie","isRatingMovie","setIsRatingMovie","rating","setRating","globalRating","countRating","setCountRating","globalCountRating","changeLiked","name","img","movieSee","handleClickDeleteMovieParent","handleClickAddMovieParent","setMyRating","tabRating","i","color","count","push","nbTotalNote","nbTotalVote","avgTotal","Math","round","tabGlobalRating","colorLike","cursor","marginBottom","movieImg","movieName","popularity","movieDesc"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport '../App.css';\r\nimport { \r\n  Button,\r\n  Col,\r\n  Card,\r\n  CardImg,\r\n  CardBody,\r\n  CardTitle,\r\n  CardText,\r\n  Badge,\r\n  ButtonGroup,\r\n } from 'reactstrap';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart, faStar, faVideo} from '@fortawesome/free-solid-svg-icons'\r\n\r\nfunction Movie(props) {\r\n\r\n  const [myRatingMovie, setMyRatingMovie] = useState(0)\r\n  const [isRatingMovie, setIsRatingMovie] = useState(false)\r\n\r\n  const [rating, setRating] = useState(props.globalRating)\r\n  const [countRating, setCountRating] = useState(props.globalCountRating)\r\n\r\n  var changeLiked = (name, img) => {\r\n    if(props.movieSee == true){\r\n      props.handleClickDeleteMovieParent(name)\r\n    } else {\r\n      props.handleClickAddMovieParent(name, img)\r\n    }\r\n  }\r\n\r\n\r\n  var setMyRating = (rating) => {\r\n    if(rating < 0){\r\n      rating = 0\r\n    }\r\n\r\n    if(rating > 10){\r\n      rating = 10\r\n    }\r\n\r\n    setMyRatingMovie(rating)\r\n    setIsRatingMovie(true)\r\n  }\r\n\r\n  var tabRating = []\r\n  for(var i=0;i<10;i++){\r\n      var color = {}\r\n      if(i<myRatingMovie){\r\n          color = {color: '#f1c40f'}\r\n      }\r\n      let count = i+1\r\n      tabRating.push(<FontAwesomeIcon onClick={() => setMyRating(count)} style={color} icon={faStar} /> )\r\n  }\r\n\r\n  var nbTotalNote = rating * countRating\r\n  var nbTotalVote = countRating\r\n\r\n  if(isRatingMovie){\r\n    nbTotalVote +=1\r\n    nbTotalNote += myRatingMovie\r\n  }\r\n\r\n  var avgTotal = Math.round(nbTotalNote / nbTotalVote)\r\n\r\n  var tabGlobalRating = []\r\n  for(var i=0;i<10;i++){\r\n      var color = {}\r\n      if(i<avgTotal){\r\n          color = {color: '#f1c40f'}\r\n      }\r\n      tabGlobalRating.push(<FontAwesomeIcon style={color} icon={faStar} /> )\r\n  }\r\n\r\n  if(props.movieSee){\r\n    var colorLike = {color: '#e74c3c',cursor:'pointer'}\r\n  } else {\r\n    var colorLike = {cursor:'pointer'}\r\n  }\r\n\r\n  return (\r\n    <Col xs=\"12\" lg=\"6\" xl=\"4\">\r\n    <Card style={{marginBottom:30}}>\r\n    <CardImg top src={`https://image.tmdb.org/t/p/w500/${props.movieImg}`} alt={props.movieName} />\r\n    <CardBody>\r\n        <p> {props.movieName} <FontAwesomeIcon style={colorLike} icon={faHeart} onClick={() => changeLiked(props.movieName,props.movieImg)} /></p>\r\n        <p>Nombre de vues <Badge color=\"primary\">{Math.round(props.popularity)}</Badge></p>\r\n        <p>Mon avis \r\n        {tabRating}\r\n\r\n        <ButtonGroup size=\"sm\">\r\n            <Button onClick={() => setMyRating(myRatingMovie-1)} color=\"secondary\">-</Button>\r\n            <Button onClick={() => setMyRating(myRatingMovie+1)} color=\"secondary\">+</Button>\r\n        </ButtonGroup>\r\n        </p>\r\n        <p>Moyenne\r\n        {tabGlobalRating}\r\n        ({nbTotalVote})\r\n        </p>\r\n        <CardText>{props.movieDesc}</CardText>\r\n    </CardBody>\r\n    </Card>\r\n    </Col>\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default Movie;\r\n"]},"metadata":{},"sourceType":"module"}